<button mat-raised-button color="primary" (click)="start()">Start Capture</button>
<button mat-raised-button (click)="pause()">Pause Capture</button>
<button mat-raised-button (click)="reset()">Reset</button>


<mat-form-field>
  <mat-label>Beats Per Hour</mat-label>
  <input matInput type="number" step="1" [(ngModel)]="bph">
</mat-form-field>
<mat-checkbox [(ngModel)]="noSleep.keepAwake">Keep Screen Awake</mat-checkbox> <br>



<mat-accordion>
  <mat-expansion-panel #spectrographParent>
    <mat-expansion-panel-header>
      <mat-panel-title>
        Filter Audio
      </mat-panel-title>
      <mat-panel-description>
      </mat-panel-description>
    </mat-expansion-panel-header>

    <mat-form-field>
      <mat-label>Filtered Frequency</mat-label>
      <input matInput type="number" step="1" [ngModel]="audioCaptureService.getFrequency()"
        (ngModelChange)="audioCaptureService.setFrequency($event)" min="1" max="22049">
    </mat-form-field>

    Filter Strength <mat-slider min="0" max="400" [ngModel]="audioCaptureService.getBandWidth()"
      (input)="audioCaptureService.setBandWidth($event.value)"></mat-slider>

    <mat-form-field>
      <mat-label>Peak Detection Method</mat-label>
      <mat-select [(value)]="peakTimeService.peakDetectionMethod">
        <mat-option [value]="PeakDetectionMethod.firstPeak">Time of First Peak Above Average</mat-option>
        <mat-option [value]="PeakDetectionMethod.maxPeak">Time of Max Peak</mat-option>
      </mat-select>
    </mat-form-field>


    <mat-form-field *ngIf="peakTimeService.peakDetectionMethod === PeakDetectionMethod.firstPeak">
      <mat-label>DB Cutoff</mat-label>
      <input matInput type="number" step="1" [(ngModel)]="peakTimeService.dbCutoff" min="1" max="100">
    </mat-form-field>

    <br>

    <app-spectrogram *ngIf="spectrographParent.expanded"></app-spectrogram>
  </mat-expansion-panel>
</mat-accordion>

<br>
Running Time: <span *ngIf="runningTime">{{runningTime}}</span>


<br>
<div *ngIf="chartOptions" style="display: block;" class="chart-container">
  <canvas baseChart width="400" height="400" [data]="lineData" [labels]="labelData" [chartType]="'line'"
    [options]="chartOptions"></canvas>
  <input type="range" [min]="0" [max]="1000000" [(ngModel)]="scroll" id="scroller">
</div>



<br><br><span class="version-text"> v{{getVersion()}}</span>
